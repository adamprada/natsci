\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{natsci-latex}[2020/09/20 Natural Sciences Typesetting]
%*******************************************************************************
% Fonts
%*******************************************************************************
\RequirePackage[utf8]{inputenc}
% Using the T1 for font encoding ensures better non-ASCII chracters (as opposed to old OT1)
\RequirePackage[T1]{fontenc}
%*******************************************************************************
% Mathematics packages
%*******************************************************************************
\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage{mathtools}
\RequirePackage{bm}
\RequirePackage{upgreek}
% it is better if unicode-math is loaded after amsmath and mathtools
%*******************************************************************************
% Mathematical typesetting macros
%*******************************************************************************
\newcommand{\vc}[1]{\bm{#1}}
\DeclareMathAlphabet{\mathsfit}{T1}{\sfdefault}{\mddefault}{\sldefault}
\SetMathAlphabet{\mathsfit}{bold}{T1}{\sfdefault}{\bfdefault}{\sldefault}
\newcommand{\mat}[1]{\mathsfit{#1}}
\newcommand{\ud}{\ensuremath{\mathrm{d}}}
\newcommand{\uDelta}{\ensuremath{\Delta}}
\newcommand{\ui}{\ensuremath{\mathrm{i}}}
\newcommand{\ue}{\ensuremath{\mathrm{e}}}
\newcommand{\upi}{\ensuremath{\uppi}}
\newcommand{\transp}{\ensuremath{{\mathsf{T}}}}
%*******************************************************************************
% Footnotes (currently unused)
%*******************************************************************************
%\renewcommand{\thefootnote}{\fnsymbol{footnote}}
%\renewcommand{\thefootnote}{(\roman{footnote})}

%\RequirePackage{manyfoot}
% Correction for hyperlinks for manyfoot footnotes
%\RequirePackage{etoolbox}
%\makeatletter
%\newcommand\manyfoottarget{\makebox[0pt][r]{\hypertarget{Hfootnote.\theHfootnote}\quad}}
%\patchcmd\MFL@fnoteplain{\rule}{\manyfoottarget\rule}{}{\fail}
%makeatother
%\DeclareNewFootnote{A}[fnsymbol]

%\RequirePackage{perpage}
%\MakePerPage{footnoteA}
%*******************************************************************************
% General LaTeX packages
%*******************************************************************************
\RequirePackage{geometry} % Page geometry
\RequirePackage{graphicx} % Inserting graphics
\RequirePackage{xcolor} % Using colour
\RequirePackage{microtype} % Correcting minor typesetting errors
\RequirePackage{ragged2e} % Better left and right alignment
\RequirePackage{multicol} % Multi-column documents
\RequirePackage{fancyhdr} % Headers and footers
\RequirePackage{setspace} % Line spacing
\RequirePackage{pdflscape} % Landscape pages are landscape in the PDF
\RequirePackage{caption} % Better float captions
\RequirePackage{subcaption} % Like cpation, but for subfigures
%*******************************************************************************
% Packages for specific elements
%*******************************************************************************
\RequirePackage[hidelinks]{hyperref} % Links in the PDF
%\RequirePackage{footnotebackref}
\RequirePackage{doi} % Automatic DOI typesetting
\RequirePackage{tikz}
\RequirePackage{enumitem} % Better enumerations and itemizations
\RequirePackage{booktabs} % Nicer tables
\RequirePackage{multirow} % Tables with cells across rows
\RequirePackage{float} % More control over floats
%\floatplacement{figure}{H} % Make all figures automaticaly printed where they are in the code.
\RequirePackage[shortcuts]{extdash} % Non-breaking hyphens
\RequirePackage{todonotes}
%*******************************************************************************
% STEM LaTeX packages
%*******************************************************************************
\RequirePackage{siunitx}
\RequirePackage{diffcoeff}
\diffdef {}{
    op-symbol    = \mathrm{d},
    op-order-sep = 0 mu
}
\RequirePackage{chemmacros}
\chemsetup{formula=chemformula}
\chemsetup{modules=all}
\chemsetup[particles]{elpair=dots}
\chemsetup[redox]{pos=top}
